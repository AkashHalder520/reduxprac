{"ast":null,"code":"var _jsxFileName = \"/home/webskitters/Desktop/project/reduxprac/src/com/Crud/Edit.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { productdetails, productupdate } from '../../Redux/Crudslice';\nimport { image } from '../../Helper/Helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Edit() {\n  _s();\n  const productid = useParams();\n  const dispatch = useDispatch();\n  // console.log(productid);\n  // const formdata=new FormData()\n  // formdata.append()\n  useEffect(() => {\n    dispatch(productdetails(productid));\n  }, [productid]);\n  const proddata = useSelector(state => state.crud);\n  // console.log(proddata.data.data._id);\n  const [data, setData] = useState({\n    title: \"\",\n    description: \"\"\n  });\n  const [img, setImage] = useState();\n  useEffect(() => {\n    if (proddata != \"\") {\n      var _proddata$data, _proddata$data$data, _proddata$data2, _proddata$data2$data;\n      setData({\n        title: proddata === null || proddata === void 0 ? void 0 : (_proddata$data = proddata.data) === null || _proddata$data === void 0 ? void 0 : (_proddata$data$data = _proddata$data.data) === null || _proddata$data$data === void 0 ? void 0 : _proddata$data$data.title,\n        description: proddata === null || proddata === void 0 ? void 0 : (_proddata$data2 = proddata.data) === null || _proddata$data2 === void 0 ? void 0 : (_proddata$data2$data = _proddata$data2.data) === null || _proddata$data2$data === void 0 ? void 0 : _proddata$data2$data.description\n      });\n      setImage({\n        image: proddata === null || proddata === void 0 ? void 0 : proddata.data.data.image\n      });\n    }\n  }, [proddata]);\n  const handelChange = event => {\n    // console.log(event.target);\n    let name = event.target.name;\n    let value = event.target.value;\n    if (name === \"title\") {\n      if (value.length == 0) {\n        setData({\n          ...data,\n          title: \"\"\n        });\n      } else {\n        setData({\n          ...data,\n          title: value\n        });\n      }\n    }\n    if (name === \"description\") {\n      if (value.length == 0) {\n        setData({\n          ...data,\n          description: \"\"\n        });\n      } else {\n        setData({\n          ...data,\n          description: value\n        });\n      }\n    }\n  };\n  const sendData = event => {\n    event.preventDefault();\n    let formdata = new FormData();\n    formdata.append(\"title\", data.title);\n    formdata.append(\"description\", data.description);\n    formdata.append(\"image\", img);\n    formdata.append(\"id\", proddata.data.data._id);\n    dispatch(productupdate(formdata));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"form-title\",\n        children: \"Edit page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: sendData,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"main-user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"user-input-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"fullName\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"fullName\",\n              name: \"title\",\n              placeholder: \"Enter Title\",\n              onChange: handelChange,\n              value: data.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"user-input-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"description\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"email\",\n              name: \"description\",\n              placeholder: \"Enter description\",\n              onChange: handelChange,\n              value: data.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: e => setImage(e.target.files[0]),\n            name: \"img\",\n            accept: \"image/*\",\n            class: \"form-control\"\n            // src={data?.image? image(data?.image): \"error\"}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"form-submit-btn\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false)\n  // <>Edit page</>\n  ;\n}\n_s(Edit, \"Qpgy27qFX1bHmxyt0jgxLKxE9MU=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useParams","productdetails","productupdate","image","jsxDEV","_jsxDEV","Fragment","_Fragment","Edit","_s","productid","dispatch","proddata","state","crud","data","setData","title","description","img","setImage","_proddata$data","_proddata$data$data","_proddata$data2","_proddata$data2$data","handelChange","event","name","target","value","length","sendData","preventDefault","formdata","FormData","append","_id","children","id","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","for","type","placeholder","onChange","e","files","accept","class","_c","$RefreshReg$"],"sources":["/home/webskitters/Desktop/project/reduxprac/src/com/Crud/Edit.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom'\r\nimport { productdetails, productupdate } from '../../Redux/Crudslice';\r\nimport { image } from '../../Helper/Helper';\r\n\r\nexport default function Edit() {\r\n\r\n    const productid=useParams();\r\n    const dispatch= useDispatch()\r\n    // console.log(productid);\r\n    // const formdata=new FormData()\r\n    // formdata.append()\r\n    useEffect(()=>{dispatch(productdetails(productid))},[productid])\r\n    const proddata=useSelector((state)=>state.crud)\r\n// console.log(proddata.data.data._id);\r\n    const [data, setData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n      });\r\n      const [img, setImage] = useState();\r\nuseEffect(()=>{\r\n    if (proddata!=\"\"){\r\n        setData({\r\n            title:proddata?.data?.data?.title,\r\n            description:proddata?.data?.data?.description\r\n        })\r\n        setImage({\r\n            image:proddata?.data.data.image\r\n        })\r\n    }\r\n},[proddata])\r\n\r\n\r\n\r\nconst handelChange = (event) => {\r\n    // console.log(event.target);\r\n    let name = event.target.name;\r\n    let value = event.target.value;\r\n    if (name === \"title\") {\r\n      if (value.length == 0) {\r\n        setData({ ...data, title: \"\" });\r\n      } else {\r\n        setData({ ...data, title: value });\r\n      }\r\n    }\r\n\r\n    if (name === \"description\") {\r\n      if (value.length == 0) {\r\n        setData({ ...data, description: \"\" });\r\n      } else {\r\n        setData({ ...data, description: value });\r\n      }\r\n    }\r\n  };\r\n  const sendData=(event)=>{\r\n    event.preventDefault();\r\n    let formdata= new FormData();\r\n    formdata.append(\"title\",data.title)\r\n    formdata.append(\"description\",data.description)\r\n    formdata.append(\"image\",img)\r\n    formdata.append(\"id\",proddata.data.data._id)\r\n    dispatch(productupdate(formdata))\r\n  }\r\n    return (\r\n        <>\r\n            <div id=\"container\">\r\n                <h1 id=\"form-title\">Edit page</h1>\r\n                <form onSubmit={sendData}>\r\n                    <div id=\"main-user-info\">\r\n                        <div id=\"user-input-box\">\r\n                            <label for=\"fullName\">Title</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"fullName\"\r\n                                name=\"title\"\r\n                                placeholder=\"Enter Title\"\r\n                                onChange={handelChange}\r\n                                value={data.title}\r\n                            />\r\n                        </div>\r\n\r\n                        <div id=\"user-input-box\">\r\n                            <label for=\"description\">Description</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"email\"\r\n                                name=\"description\"\r\n                                placeholder=\"Enter description\"\r\n                                onChange={handelChange}\r\n                                value={data.description}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label>Img</label>\r\n                        <input\r\n                            type=\"file\"\r\n                            onChange={(e) => setImage(e.target.files[0])}\r\n                            name=\"img\"\r\n                            accept=\"image/*\"\r\n                            class=\"form-control\"\r\n                            // src={data?.image? image(data?.image): \"error\"}\r\n                        />\r\n                    </div>\r\n                    <div id=\"form-submit-btn\">\r\n                        <input type=\"submit\" />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n        // <>Edit page</>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}